(()=>{let e=[],t=0,s=0;const n=["C","H","D","S"],a=["A","J","Q","K"],d=e=>`assets/cartas/${e}.png`,c=document.querySelector("#player-cards"),l=document.querySelector("#pc-cards"),r=document.querySelector("#req-btn"),i=document.querySelector("#stop-btn"),o=document.querySelector("#start-btn"),u=document.querySelector(".resultado");i.disabled=!0,r.disabled=!0;const p=(e,t)=>{m(e),h(t)},m=e=>{document.getElementById("playerPoints").innerText=e},h=e=>{document.getElementById("pcPoints").innerText=e},L=e=>(0===e.length&&alert("No hay cartas en el mazo. Inicie el juego."),e.pop(Math.trunc(Math.random()*e.length+1))),E=e=>{const t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:parseInt(t)};r.addEventListener("click",()=>{const n=L(e);t+=E(n),p(t,s);const a=document.createElement("img");a.src=d(n),a.classList.add("carta"),c.append(a),t>=21&&(r.disabled=!0,i.disabled=!0,b(t))}),o.addEventListener("click",()=>{e=(()=>(n.forEach(t=>{for(let s=2;s<=10;s++)e.push(s+t)}),n.forEach(t=>{a.forEach(s=>{e.push(s+t)})}),_.shuffle(e)))(),t=0,s=0,document.getElementById("start-btn").innerHTML="\n        <div>\n            <i id='start-icon' class=\"fas fa-sync\"></i>\n            Reiniciar\n        </div>\n        ",r.disabled=!1,i.disabled=!1,(()=>{for(;c.lastChild;)c.removeChild(c.lastChild);for(;l.lastChild;)l.removeChild(l.lastChild)})(),u.removeChild(u.lastChild),p(t,s)}),i.addEventListener("click",()=>{r.disabled=!0,i.disabled=!0,b(t)});const b=n=>{do{const a=L(e);s+=E(a),p(t,s);const c=document.createElement("img");if(c.src=d(a),c.classList.add("carta"),l.append(c),n>21)break}while(s<n&&n<=21);y(n,s)},y=(e,t)=>{const s=document.createElement("h4");e===t?(s.classList.add("empate"),s.classList.add("result"),s.innerText="🤝🏼 ES UN EMPATE 🤝🏼",u.append(s)):e>21?(s.classList.add("pc-win"),s.classList.add("result"),s.innerText="💻 LA PC GANA 💻",u.append(s)):t>21?(s.classList.add("result"),s.classList.add("player-win"),s.innerText="😁 JUGADOR GANA 😁",u.append(s)):(s.classList.add("result"),s.classList.add("pc-win"),s.innerText="💻 LA PC GANA 💻",u.append(s))}})();